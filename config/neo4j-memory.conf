-- config/neo4j-memory.conf  
# Neo4j configuration for procedural memory

# Network Settings
dbms.default_listen_address=0.0.0.0
dbms.default_advertised_address=neo4j-memory

# Memory Settings
dbms.memory.heap.initial_size=512m
dbms.memory.heap.max_size=2G
dbms.memory.pagecache.size=1G

# Transaction Settings
dbms.transaction.timeout=60s
dbms.transaction.concurrent.maximum=1000

# Security Settings
dbms.security.auth_enabled=true
dbms.security.procedures.unrestricted=apoc.*
dbms.security.procedures.allowlist=apoc.*

# Logging
dbms.logs.query.enabled=true
dbms.logs.query.threshold=1000ms
dbms.logs.query.rotation.keep_number=10
dbms.logs.query.rotation.size=20m

# Performance
dbms.tx_log.rotation.size=250M
dbms.tx_log.rotation.retention_policy=1 days

# Memory-specific settings for knowledge graphs
dbms.index_sampling.background_enabled=true
dbms.index_sampling.sample_size_limit=1000000

# Cypher settings optimized for memory operations
cypher.default_language_version=4
cypher.forbid_exhaustive_shortestpath=false
cypher.hints_error=false

# Procedures and functions
dbms.procedures.unrestricted=apoc.*
dbms.security.procedures.whitelist=apoc.*
